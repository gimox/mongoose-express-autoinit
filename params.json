{"name":"Mongoose-express-autoinit","tagline":"Initialize mongooose and load all models ","body":"#Mongoose express autoinit\r\n--------------------------------------\r\n\r\nThis package help you to initialize mongoose and load models, with on click with express 4.\r\n\r\n\r\nIt add all necessary code to manage mongoose:\r\n\r\n- initialize it\r\n- auto load models from yours models directory\r\n- add basic events\r\n- print  startup info in console\r\n\r\n\r\n\r\n#Initialize the components\r\n\r\nin your app.js file\r\n\r\n```\r\nvar express = require('express');\r\nvar app = express();\r\nvar bodyParser = require('body-parser');\r\nvar mongoose = require('mongoose');\r\nvar mongoAutoInit = require('mongoose-express-autoinit');\r\n\r\n\r\n... your app code here\r\n\r\n\r\nvar mongoConfig = {\r\n\tconnection: \"http://localhost:27017/mycollection\",\r\n\tmodels: \"./models\"\r\n};\r\n\r\nmongoAutoInit.start(app, mongoConfig, mongoose); // this is important!!\r\n\r\n\r\n```\r\n\r\nmongoose params is optionals, so the library check if is passed and initilize it if not found returning mongoose object\r\n\r\n\r\n#initialize without mongoose\r\n\r\n```\r\nvar express = require('express');\r\nvar app = express();\r\nvar bodyParser = require('body-parser');\r\nvar mongoAutoInit = require('mongoose-express-autoinit');\r\n\r\n\r\n... your app code here\r\n\r\n\r\nvar mongoConfig = {\r\n\tconnection: \"http://localhost:27017/mycollection\",\r\n\tmodels: \"./models\"\r\n};\r\n\r\nvar mongoose = mongoAutoInit.start(app, mongoConfig); // this is important!!\r\n\r\n```\r\n\r\n\r\n#Working with models\r\n\r\n\r\nThe component search in models folder and autoload all models by file.\r\n\r\nThe models name is the filename.\r\n\r\nA simple example for user, ./models/users.js\r\n\r\n```\r\nmodule.exports = function (mongoose,app) {\r\n\r\n var schema = new mongoose.Schema({\r\n \t\t  username : String,\r\n \t\t  password: String,\r\n    });\r\n\r\n\r\n return schema;\r\n\r\n```\r\n\r\nNow we have a user models and we can call it in controller/middleware\r\n\r\n```\r\nvar User = mongoose.model('user');\r\n```\r\n\r\n\r\n\r\n#TIPS\r\nif you init componentw without pass mongoose, it initialize it for you and return mongoose. It add mongoose as a app variable.\r\nSo now if you have app, you can get mongoose and models\r\n\r\n\r\n```\r\nfunction resetPassword(req, res) {\r\n\r\n var app = req.app\r\n        , mongoose = app.get('mongoose')\r\n        , Users = mongoose.model('users');\r\n\r\n        ...\r\n}\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}